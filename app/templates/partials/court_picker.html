{% if court_groups %}
<fieldset>
  <legend>Courts <small class="text-muted">(optional -- leave empty for all)</small></legend>
  {% for group in court_groups %}
  {% if court_groups | length > 1 %}
  <p style="font-weight:600; font-size:0.85rem; margin:0.6rem 0 0.3rem; opacity:0.65;">{{ group.club_name }}</p>
  {% endif %}
  <div class="court-picker-grid">
    {% for court in group.courts %}
    <label class="court-chip">
      <input type="checkbox" name="court_ids" value="{{ court.id }}"
             {% if selected_court_ids and court.id | string in selected_court_ids %}checked{% endif %}>
      <span class="court-chip-body">
        <strong>{{ court.name }}</strong>
        <small>{{ court.surface_type | replace('_', ' ') | title }} Â· {{ court.court_type | title }}</small>
      </span>
    </label>
    {% endfor %}
  </div>
  {% endfor %}
</fieldset>
{% endif %}
